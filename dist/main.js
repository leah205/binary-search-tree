(()=>{class t{constructor(t=null){this.data=t,this.left=null,this.right=null}}const l=new class{constructor(t){this.arr=t,this.#t(t),this.root=this.buildTree(this.arr)}#t(t){return t.reduce(((t,l)=>(t.includes(l)||t.push(l),t)),[])}buildTree(l){const r=e(this.#t(l));return console.log(r),function l(e,r,n){if(r>n)return null;let i=Math.floor((n+r)/2);const h=new t(e[i]);return h.left=l(e,r,i-1),h.right=l(e,i+1,n),h}(r,0,r.length-1)}insert(l){return function e(r){l>r.data?null===r.right?r.right=new t(l):e(r.right):l<r.data&&(null===r.left&&(r.left=new t(l)),e(r.left))}(this.root)}deleteItem(t){const l=(r,n,i)=>{if(t===r.data)if(null===r.left&&null===r.right)n[i]=null;else if(null===r.left)n[i]=r.right;else if(null===r.right)n[i]=r.left;else{const t=e(r.right).data;this.deleteItem(e(r.right).data),r.data=t}t>r.data?null!==r.right&&l(r.right,r,"right"):t<r.data&&null!==r.left&&l(r.left,r,"left")};return l(this.root);function e(t){return null===t.left?t:e(t.left)}}find(t){return function l(e){if(null===e)return null;if(e.data===t)return e;return l(e.left)||l(e.right)}(this.root)}prettyPrint(t,l="",e=!0){null!==t&&(null!==t.right&&this.prettyPrint(t.right,`${l}${e?"│   ":"    "}`,!1),console.log(`${l}${e?"└── ":"┌── "}${t.data}`),null!==t.left&&this.prettyPrint(t.left,`${l}${e?"    ":"   |"}`,!0))}levelOrderLoop(t=(t=>t.data)){const l=[],e=[this.root];for(;e.length;){let r=e.shift();l.push(t(r)),null!==r.left&&e.push(r.left),null!==r.right&&e.push(r.right)}return l}preOrderCallback(t=(t=>t.data)){const l=[];return function e(r){null!==r&&(l.push(t(r)),e(r.left),e(r.right))}(this.root),l}inOrderCallback(t=(t=>t.data)){const l=[];return function e(r){null!==r&&(e(r.left),l.push(t(r)),e(r.right))}(this.root),l}postOrderCallback(t=(t=>t.data)){const l=[];return function e(r){null!==r&&(e(r.left),e(r.right),l.push(t(r)))}(this.root),l}height(t){return function t(l){if(null===l.right&&null===l.left)return 0;{if(null===l.left)return 1+t(l.right);if(null===l.right)return 1+t(l.left);let e=t(l.left),r=t(l.right);return e>r?1+e:1+r}}(t)}depth(t){return this.height(this.root)-this.height(t)}isBalanced(){const t=l=>null===l.left&&null===l.right||(null===l.left||null===l.right?this.height(l)<=1:t(l.left)&&t(l.right));return t(this.root)}rebalance(){this.root=this.buildTree(this.inOrderCallback())}}([1,7,4,23,10,9,4,3,5,7,8,67,6345,324]);function e(t){if(t.length<=1)return t;let l=Math.ceil(t.length/2),r=e(t.slice(0,l)),n=e(t.slice(l,t.length)),i=[];for(;r.length&&n.length;)i=r[0]<n[0]?i.concat(r.shift()):i.concat(n.shift());return i=i.concat(r),i=i.concat(n),i}l.insert(50),l.insert(9),l.insert(30),l.prettyPrint(l.root),console.log(l.depth(l.find(9))),console.log(l.isBalanced()),l.rebalance(),l.prettyPrint(l.root),console.log(l.isBalanced())})();